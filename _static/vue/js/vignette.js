(function(e){function t(t){for(var a,o,s=t[0],c=t[1],l=t[2],d=0,v=[];d<s.length;d++)o=s[d],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&v.push(r[o][0]),r[o]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);u&&u(t);while(v.length)v.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],a=!0,s=1;s<n.length;s++){var c=n[s];0!==r[c]&&(a=!1)}a&&(i.splice(t--,1),e=o(o.s=n[0]))}return e}var a={},r={vignette:0},i=[];function o(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=a,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(n,a,function(t){return e[t]}.bind(null,a));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/static/vue/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var u=c;i.push([1,"chunk-vendors"]),n()})({"0202":function(e,t,n){},1:function(e,t,n){e.exports=n("ac1d")},"595e":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{staticClass:"m-3 content-card d-flex flex-column",attrs:{outlined:!e.enabled,flat:e.enabled}},[n("v-card-text",{staticClass:"content-text d-flex flex-column"},[n("v-card",{staticClass:"mb-3",attrs:{shaped:"",elevation:"24"}},[n("v-card-text",{staticClass:"m-3"},[n("div",{staticClass:"vignette-body light",domProps:{innerHTML:e._s(e.vignette&&e.vignette.body)}})])],1),n("div",{staticClass:"question-wrapper mt-3"},[n("h4",[e._v(e._s(e.vignette.q))]),n("input",{attrs:{type:"hidden",name:"answer"},domProps:{value:e.convertedAnswer}}),n("v-radio-group",{attrs:{mandatory:!1},model:{value:e.answer,callback:function(t){e.answer=t},expression:"answer"}},e._l(e.vignette.choices,(function(t,a){return n("v-radio",{key:a,attrs:{disabled:!e.enabled,label:t.text,value:t.value}})})),1),n("v-card",{attrs:{flat:""}},[n("v-card-text",[n("v-row",{attrs:{align:"center",justify:"center"}},[n("v-col",{attrs:{cols:"12"}},[n("h5",{staticClass:"text-center"},[e._v(" How confident you are in your answer at the scale from "+e._s(e.minConf)+" to "+e._s(e.maxConf)+" ")]),n("input",{attrs:{type:"hidden",name:"confidence"},domProps:{value:e.confidence}})]),n("v-btn-toggle",{model:{value:e.confidence,callback:function(t){e.confidence=t},expression:"confidence"}},e._l(e.confidenceLevels,(function(t,a){return n("v-btn",{key:a,attrs:{disabled:!e.enabled,value:t}},[e._v(" "+e._s(t)+" ")])})),1)],1)],1)],1)],1)],1)],1)},r=[],i=n("2909"),o=n("2ef0"),s=n.n(o),c={props:{vignette:{type:Object,default:function(){}},enabled:{type:Boolean,default:!1}},data:function(){return{confidenceLevels:s.a.range(11),confidence:null,answer:null}},computed:{minConf:function(){return Math.min.apply(Math,Object(i["a"])(this.confidenceLevels))},maxConf:function(){return Math.max.apply(Math,Object(i["a"])(this.confidenceLevels))},convertedAnswer:function(){var e={true:"True",false:"False"};return e[this.answer]}},watch:{confidence:function(e,t){this.$emit("confidence-changed",e)},answer:function(e,t){this.$emit("answer-changed",e)}},mounted:function(){},methods:{}},l=c,u=(n("c05d"),n("2877")),d=n("6544"),v=n.n(d),f=n("8336"),p=n("a609"),m=n("b0af"),g=n("99d9"),b=n("62ad"),h=n("67b6"),_=n("43a6"),y=n("0fd9"),x=Object(u["a"])(l,a,r,!1,null,"7d58b430",null);t["a"]=x.exports;v()(x,{VBtn:f["a"],VBtnToggle:p["a"],VCard:m["a"],VCardText:g["b"],VCol:b["a"],VRadio:h["a"],VRadioGroup:_["a"],VRow:y["a"]})},"90eb":function(e,t,n){"use strict";var a=n("0202"),r=n.n(a);r.a},ac1d:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("a026"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",{attrs:{id:"inspire"}},[n("v-app-bar",{attrs:{app:"","clipped-right":"",color:"blue",dark:""}},[n("v-toolbar-title",[n("v-btn-toggle",[n("v-btn",{attrs:{color:"warning",href:"/"}},[e._v(" back to oTree")]),n("v-btn",{attrs:{text:"",outlined:"",to:{name:"home"}}},[e._v(" Vignette Manager")])],1)],1),n("v-spacer"),n("router-view",{attrs:{name:"extrabtns"}})],1),n("v-main",{attrs:{dark:""}},[n("v-container",{staticClass:"fill-height"},[n("v-row",{attrs:{justify:"center",align:"center"}},[n("v-col",[n("router-view")],1)],1)],1)],1)],1)},i=[],o=(n("b0c0"),{name:"Vignette",data:function(){return{}},computed:{currentRouteName:function(){return this.$route.name}},methods:{}}),s=o,c=n("2877"),l=n("6544"),u=n.n(l),d=n("7496"),v=n("40dc"),f=n("8336"),p=n("a609"),m=n("62ad"),g=n("a523"),b=n("f6c4"),h=n("0fd9"),_=n("2fa4"),y=n("2a7f"),x=Object(c["a"])(s,r,i,!1,null,null,null),w=x.exports;u()(x,{VApp:d["a"],VAppBar:v["a"],VBtn:f["a"],VBtnToggle:p["a"],VCol:m["a"],VContainer:g["a"],VMain:b["a"],VRow:h["a"],VSpacer:_["a"],VToolbarTitle:y["a"]});var V=n("2f62"),O=(n("d1e7"),n("5363"),n("ce5b")),j=n.n(O),k=n("2b27"),C=n.n(k),T=(n("bf40"),n("96cf"),n("1da1")),E=n("8c4f"),R=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{attrs:{outlined:""}},[n("v-card-title",{staticClass:"headline"},[e._v("Vignettes")]),n("v-card-text",[n("v-list",{attrs:{rounded:""}},e._l(e.vignettes,(function(t,a){return n("v-list-item",{key:a,staticClass:"slightlyrounded",class:{redback:a%2===1},attrs:{color:"red",to:{name:"vignette",params:{id:t.id}}}},[e._v(" Vignette: "),n("span",{staticClass:"vignette-title"},[e._v(" "+e._s(t.title))])])})),1)],1)],1)},$=[],N=n("bc3a"),B=n.n(N),q={data:function(){return{vignettes:[]}},mounted:function(){var e=this;B.a.get("/api/vignettes/").then((function(t){return e.vignettes=t.data}))}},S=q,F=(n("90eb"),n("b0af")),M=n("99d9"),A=n("8860"),I=n("da13"),P=Object(c["a"])(S,R,$,!1,null,"6c2b44f9",null),D=P.exports;u()(P,{VCard:F["a"],VCardText:M["b"],VCardTitle:M["c"],VList:A["a"],VListItem:I["a"]});var G=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-row",[n("v-col",{attrs:{sm:"12"}},[e.vignette?n("formatted-vignette",{attrs:{vignette:e.vignette}}):e._e(),n("v-btn-toggle",{staticClass:"my-3",attrs:{rounded:""}},[n("v-btn",{attrs:{color:"warning"},on:{click:e.setAndRedirect}},[e._v(" Copy to new ")]),n("v-btn",{attrs:{color:"primary",to:{name:"edit_vignette",params:{id:e.id}}}},[e._v("Edit")]),n("v-btn",{attrs:{color:"success"},on:{click:function(t){return e.deleteVignette(e.id)}}},[e._v("Delete")])],1)],1)],1)],1)},L=[],H=n("5530"),U=n("595e"),Y={props:["id"],components:{FormattedVignette:U["a"]},data:function(){return{vignette:null}},mounted:function(){var e=this;this.$http.get("/api/vignettes/".concat(this.id)).then((function(t){var n=t.data;n.choices=[{text:n.yes_option,value:!0},{text:n.no_option,value:!1}],e.vignette=n}))},methods:Object(H["a"])(Object(H["a"])({},Object(V["b"])(["deleteVignette","setBuffer"])),{},{setAndRedirect:function(){this.setBuffer(this.vignette),this.$router.push({name:"create_vignette"})}})},J=Y,K=Object(c["a"])(J,G,L,!1,null,null,null),z=K.exports;u()(K,{VBtn:f["a"],VBtnToggle:p["a"],VCol:m["a"],VContainer:g["a"],VRow:h["a"]});var Q=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-form",{ref:"form",on:{submit:function(e){e.preventDefault()}},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[n("v-container",[n("v-row",[n("v-col",{attrs:{cols:"12"}},[n("v-text-field",{attrs:{label:"Title",placeholder:"Title",outlined:"",required:"",rules:[e.rules.required]},model:{value:e.vignette.title,callback:function(t){e.$set(e.vignette,"title",t)},expression:"vignette.title"}})],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12",md:"12"}},[n("editor",{attrs:{apiKey:"dd5t8ihbpp4aoey9nk77duse46qy5wjekpnb87wdivh44fw5",init:{plugins:"image",height:300,width:"100%",menubar:"file edit view insert format tools table tc help",toolbar:"undo redo | image | bold italic underline strikethrough | fontselect fontsizeselect formatselect | alignleft aligncenter alignright alignjustify | outdent indent |  numlist bullist checklist | forecolor backcolor casechange permanentpen formatpainter removeformat | pagebreak | charmap emoticons | fullscreen  preview save print | insertfile image media pageembed template link anchor codesample | a11ycheck ltr rtl | showcomments addcomment",selector:"textarea",file_picker_types:"file image media"}},model:{value:e.vignette.body,callback:function(t){e.$set(e.vignette,"body",t)},expression:"vignette.body"}})],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[n("v-text-field",{attrs:{label:"Question",placeholder:"Type question text here",outlined:"",rules:[e.rules.required]},model:{value:e.vignette.question,callback:function(t){e.$set(e.vignette,"question",t)},expression:"vignette.question"}})],1),n("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[n("v-text-field",{attrs:{label:"Option for 'yes'",placeholder:"Option for 'Yes'",outlined:"",rules:[e.rules.required]},model:{value:e.vignette.yes_option,callback:function(t){e.$set(e.vignette,"yes_option",t)},expression:"vignette.yes_option"}})],1),n("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[n("v-text-field",{attrs:{label:"Option for 'No'",placeholder:"Option for 'No'",outlined:"",rules:[e.rules.required]},model:{value:e.vignette.no_option,callback:function(t){e.$set(e.vignette,"no_option",t)},expression:"vignette.no_option"}})],1),n("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[n("v-radio-group",{attrs:{row:"",rules:[e.rules.required]},scopedSlots:e._u([{key:"label",fn:function(){return[n("div",[e._v("Correct answer")])]},proxy:!0}]),model:{value:e.vignette.correct,callback:function(t){e.$set(e.vignette,"correct",t)},expression:"vignette.correct"}},[n("v-radio",{attrs:{label:"No",value:!1}}),n("v-radio",{attrs:{label:"Yes",value:!0}})],1)],1)],1),n("v-row",[n("v-col",[n("v-btn",{staticClass:"mr-4",attrs:{disabled:!e.valid,color:"success"},on:{click:e.saveVignette}},[e._v(" Save ")])],1)],1)],1)],1)},W=[],X=(n("a9e3"),n("53ca")),Z=n("ca72"),ee={components:{editor:Z["a"]},props:{id:{type:[String,Number],default:null,required:!1}},data:function(){return{valid:!1,body:"",vignette:{body:"",title:"",question:"",yes_option:"",no_option:"",correct:""},errorMessages:"",title:"",yesOption:"",noOption:"",url:"/api/vignettes/",axiosType:"post",rules:{required:function(e){if(null===e||""===e||void 0===e)return"required"}},nameRules:[function(e){return!!e||"Vignette body is required"},function(e){return e.length>=10||"Vignette text must be at least  10 characters"}]}},computed:Object(H["a"])({},Object(V["d"])(["saving","bufferForNew"])),watch:{saving:function(e,t){console.debug("SAVING INNITATED - CHECKING WITHING!!"),this.savingStopRequested(),this.saveVignette()}},mounted:function(){var e=this;this.id?(this.url="/api/vignettes/".concat(this.id,"/"),this.axiosType="patch",this.$http.get("/api/vignettes/".concat(this.id)).then((function(t){e.vignette=t.data}))):this.bufferForNew&&(this.vignette=this.bufferForNew,this.vignette.title+=" 1",this.emptyBuffer())},created:function(){this.$http.defaults.xsrfHeaderName="X-CSRFToken",this.$http.defaults.xsrfCookieName="csrftoken"},methods:Object(H["a"])(Object(H["a"])({},Object(V["b"])(["savingStopRequested","emptyBuffer"])),{},{resetError:function(e){"object"===Object(X["a"])(this.errorMessages)&&null!==this.errorMessages&&(this.errorMessages[e]="")},saveVignette:function(){var e=this;this.$refs.form.validate();this.valid&&this.$http[this.axiosType](this.url,this.vignette).then((function(t){t.data&&t.data.id&&e.$router.push({name:"vignette",params:{id:t.data.id}})})).catch((function(t){var n=t.response,a=n.data,r=n.status;r>=300&&(e.valid=!1,e.errorMessages=a)}))}})},te=ee,ne=n("4bd4"),ae=n("67b6"),re=n("43a6"),ie=n("8654"),oe=Object(c["a"])(te,Q,W,!1,null,null,null),se=oe.exports;u()(oe,{VBtn:f["a"],VCol:m["a"],VContainer:g["a"],VForm:ne["a"],VRadio:ae["a"],VRadioGroup:re["a"],VRow:h["a"],VTextField:ie["a"]});var ce=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-btn",[e._v(" OPA OPA ")])],1)},le=[],ue={data:function(){return{}},mounted:function(){},methods:{}},de=ue,ve=Object(c["a"])(de,ce,le,!1,null,null,null);ve.exports;u()(ve,{VBtn:f["a"]});var fe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-btn",{on:{click:e.savingRequested}},[e._v(" Save ")])],1)},pe=[],me={data:function(){return{}},mounted:function(){},methods:Object(H["a"])({},Object(V["b"])(["savingRequested"])),created:function(){}},ge=me,be=Object(c["a"])(ge,fe,pe,!1,null,null,null),he=be.exports;u()(be,{VBtn:f["a"]});var _e=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-btn-toggle",{attrs:{rounded:""}},[n("v-btn",{attrs:{color:"warning"},on:{click:function(t){return e.copyVignette(e.id)}}},[e._v(" Copy to new ")]),n("v-btn",{attrs:{to:{name:"edit_vignette",params:{id:e.id}},color:"primary"}},[e._v(" Edit ")]),n("v-btn",{attrs:{color:"success"},on:{click:e.onDelete}},[e._v(" Delete ")])],1)},ye=[],xe={props:["id"],data:function(){return{}},mounted:function(){},methods:Object(H["a"])(Object(H["a"])({},Object(V["b"])(["deleteVignette","copyVignette"])),{},{onEdit:function(){},onDelete:function(){console.debug("DELTETE",this.id),this.deleteVignette(this.id)}})},we=xe,Ve=Object(c["a"])(we,_e,ye,!1,null,null,null),Oe=Ve.exports;u()(Ve,{VBtn:f["a"],VBtnToggle:p["a"]});var je=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-btn",{attrs:{to:{name:"create_vignette"}}},[e._v(" Create ")])],1)},ke=[],Ce={data:function(){return{}},mounted:function(){},methods:{}},Te=Ce,Ee=Object(c["a"])(Te,je,ke,!1,null,null,null),Re=Ee.exports;u()(Ee,{VBtn:f["a"]}),a["default"].use(E["a"]);var $e=new E["a"]({mode:"history",base:"/vignettemanager",routes:[{path:"/",name:"home",components:{default:D,extrabtns:Re}},{path:"/view/vignette/:id",name:"vignette",components:{default:z,extrabtns:Oe},props:{default:!0,extrabtns:!0}},{path:"/create/vignette/",name:"create_vignette",components:{default:se,extrabtns:he},props:{default:!0,extrabtns:!0}},{path:"/edit/vignette/:id",name:"edit_vignette",components:{default:se,extrabtns:he},props:{default:!0,extrabtns:!0}}]});a["default"].use(V["a"]);var Ne=new V["a"].Store({state:{saving:!1,bufferForNew:{}},getters:{savingStatus:function(e){return e.saving}},mutations:{SAVING_INITIATED:function(e){e.saving=!0},SAVING_DONE:function(e){e.saving=!1},SET_BUFFER:function(e,t){e.bufferForNew=t},EMPTY_BUFFER:function(e){e.bufferForNew={}}},actions:{setBuffer:function(e,t){var n=e.commit;n("SET_BUFFER",t)},emptyBuffer:function(e){var t=e.commit;t("EMPTY_BUFFER")},savingRequested:function(e){var t=e.commit;t("SAVING_INITIATED")},savingStopRequested:function(e){var t=e.commit;t("SAVING_DONE")},deleteVignette:function(e,t){return Object(T["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e.commit,n.prev=1,n.next=4,B.a.delete("/api/vignettes/".concat(t,"/"));case 4:$e.push({name:"home"}),n.next=10;break;case 7:n.prev=7,n.t0=n["catch"](1),console.debug(n.t0);case 10:case"end":return n.stop()}}),n,null,[[1,7]])})))()},copyVignette:function(e,t){return Object(T["a"])(regeneratorRuntime.mark((function n(){var a,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=e.commit,n.prev=1,n.next=4,B.a.get("/api/vignettes/".concat(t,"/"));case 4:r=n.sent,a("SET_BUFFER",r.data),$e.push({name:"create_vignette"}),n.next=12;break;case 9:n.prev=9,n.t0=n["catch"](1),console.debug(n.t0);case 12:case"end":return n.stop()}}),n,null,[[1,9]])})))()}}}),Be=Ne;a["default"].prototype.$http=B.a,a["default"].use(j.a),a["default"].use(V["a"]),a["default"].use(C.a),a["default"].config.productionTip=!1,new a["default"]({router:$e,store:Be,vuetify:new j.a({defaultAssets:{font:!0,icons:"mdi"},icons:{iconfont:"mdi"}}),render:function(e){return e(w)}}).$mount("#app")},c05d:function(e,t,n){"use strict";var a=n("f755"),r=n.n(a);r.a},f755:function(e,t,n){}});