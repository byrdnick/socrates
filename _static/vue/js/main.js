(function(t){function e(e){for(var o,r,i=e[0],c=e[1],d=e[2],u=0,f=[];u<i.length;u++)r=i[u],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&f.push(a[r][0]),a[r]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(t[o]=c[o]);l&&l(e);while(f.length)f.shift()();return s.push.apply(s,d||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],o=!0,i=1;i<n.length;i++){var c=n[i];0!==a[c]&&(o=!1)}o&&(s.splice(e--,1),t=r(r.s=n[0]))}return t}var o={},a={main:0},s=[];function r(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=o,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/static/vue/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var d=0;d<i.length;d++)e(i[d]);var l=c;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var o=n("85ec"),a=n.n(o);a.a},"0d0b":function(t,e,n){"use strict";var o=n("10e9"),a=n.n(o);a.a},"10e9":function(t,e,n){},"1e3e":function(t,e,n){},"33e1":function(t,e,n){"use strict";var o=n("85d2"),a=n.n(o);a.a},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("a026"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",{attrs:{id:"inspire"}},[t.chatExitForced?t._e():n("end-chat"),n("error-modal",{attrs:{"error-text":"Please check if you answer all the questions at this page"}}),n("instructions-modal"),n("v-system-bar",{attrs:{height:"30",app:""}},[n("timer",{attrs:{"secs-to-end":t.secsTillAllowedExit,"what-to-do":"allowExitPermission","progress-message":t.msg_till_allowed_exit,"timer-finish":"You can click 'Next' if you want to leave the chat early",color:"blue"}}),n("timer",{attrs:{"secs-to-end":t.seconds_forced_exit,"what-to-do":"forceExit","progress-message":t.msg_forced_exit,"timer-finish":"",color:"red"}})],1),n("v-navigation-drawer",{staticClass:"chatdrawer",attrs:{fixed:"",permanent:"",right:""}},[n("h1",[t._v("chat")]),n("chat")],1),n("v-main",{staticClass:"maincont"},[n("v-container",{attrs:{fluid:"","fill-height":""}},[n("v-row",[n("v-col",[t.vignette?n("formatted-vignette",{attrs:{vignette:t.vignette,enabled:!1},on:{"answer-changed":t.answerChanged,"confidence-changed":t.confidenceChanged}}):t._e()],1)],1)],1)],1),n("v-footer",{attrs:{app:""}},[n("v-col",[n("v-btn",{staticClass:"mx-3 white--text",attrs:{large:"",color:"blue"},on:{click:t.toggleInstructionsDialog}},[n("v-icon",{attrs:{"x-large":""}},[t._v("info")]),t._v(" Show instructions ")],1),n("transition",{attrs:{name:"custom-classes-transition","enter-active-class":"animate__animated animate__backInDown","leave-active-class":"animate__animated animate__backOutDown",appear:""}},[t.chatExitAllowed?n("v-btn",{attrs:{large:"",color:"red"},on:{click:t.formSubmit}},[t._v(" Next ")]):t._e()],1)],1)],1)],1)},s=[],r=(n("d3b7"),n("ddb0"),n("5530")),i=n("2909"),c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"chat-container"},[n("message-wrapper"),n("div",{staticClass:"input-block"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.content,expression:"content"}],attrs:{type:"text",placeholder:"Type here..."},domProps:{value:t.content},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.sendMessage(e)},keydown:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;e.preventDefault()},input:function(e){e.target.composing||(t.content=e.target.value)}}}),n("v-btn",{staticClass:"send-btn",class:{"disable-events":t.emptyInput},attrs:{dark:"",fab:"",top:"",right:"",color:"blue",disabled:!t.status},on:{click:t.sendMessage}},[n("v-icon",[t._v("mdi-send")])],1)],1)],1)},d=[],l=(n("99af"),n("498a"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"message-block"},[n("div",{staticClass:"inner-message-block"},t._l(t.messages,(function(e,o){return n("div",{key:o,class:{message:!0,me:e.source===t.id_in_group,other:e.source!==t.id_in_group,last:e.last,first:e.first}},[t._v(" "+t._s(e.text)+" ")])})),0)])}),u=[],f=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._v(" hellow ")])},g=[],v={data:function(){return{}}},h=v,m=(n("0d0b"),n("2877")),p=Object(m["a"])(h,f,g,!1,null,null,null),b=p.exports,_={components:{message:b},computed:{messages:function(){return this.$store.state.messages},id_in_group:function(){return this.$store.state.id_in_group}}},w=_,E=(n("33e1"),Object(m["a"])(w,l,u,!1,null,null,null)),x=E.exports,O=n("2f62"),C={components:{"message-wrapper":x},data:function(){return{content:""}},computed:Object(r["a"])({emptyInput:function(){return""===this.content.trim()},id_in_group:function(){return this.$store.state.id_in_group}},Object(O["e"])({status:function(t){return t.socket.isConnected}})),watch:{status:function(t,e){console.debug("Updating from ".concat(e," to ").concat(t)),t&&this.requestOldMessages()}},created:function(){},methods:Object(r["a"])(Object(r["a"])({},Object(O["b"])({send_message:"sendMessage",requestOldMessages:"requestOldMessages"})),{},{sendMessage:function(){if(""!==this.content.trim()){var t={text:this.content,source:id_in_group};this.send_message(t),this.content=""}}})},y=C,j=(n("f196"),n("6544")),S=n.n(j),k=n("8336"),M=n("132d"),V=Object(m["a"])(y,c,d,!1,null,null,null),D=V.exports;S()(V,{VBtn:k["a"],VIcon:M["a"]});var T=n("595e"),I=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.chatExitForced?t._e():n("div",{staticClass:"text-center"},[n("v-dialog",{attrs:{width:"700"},scopedSlots:t._u([{key:"activator",fn:function(t){t.on,t.attrs;return[n("div")]}}],null,!1,3996642165),model:{value:t.isChatModalShown,callback:function(e){t.isChatModalShown=e},expression:"isChatModalShown"}},[n("v-card",[n("v-card-title",{staticClass:"primary"},[t._v(" Information ")]),n("v-card-text",{staticClass:"my-3"},[t._v(" Your partner has ended the chat. You can now provide your final answer. ")]),n("v-divider"),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){t.isChatModalShown=!1}}},[t._v(" Close ")])],1)],1)],1)],1)},N=[],A={data:function(){return{}},computed:Object(r["a"])(Object(r["a"])(Object(r["a"])({},Object(O["e"])(["chatEndModal","chatExitForced"])),Object(O["c"])(["chatEndedByPartner"])),{},{isChatModalShown:{get:function(){return this.chatEndedByPartner},set:function(t){this.setEndChatModel(t),t||this.forceExit()}}}),methods:Object(r["a"])({},Object(O["d"])(["setEndChatModel","forceExit"]))},P=A,$=n("b0af"),F=n("99d9"),R=n("169a"),B=n("ce7e"),q=n("2fa4"),L=Object(m["a"])(P,I,N,!1,null,null,null),G=L.exports;S()(L,{VBtn:k["a"],VCard:$["a"],VCardActions:F["a"],VCardText:F["b"],VCardTitle:F["c"],VDialog:R["a"],VDivider:B["a"],VSpacer:q["a"]});var H=n("69be"),K=n("c075"),Y=(n("77ed"),n("defa")),J={name:"LayoutsDemosBaselineFlipped",props:{source:String},components:{Timer:Y["a"],chat:D,EndChat:G,InstructionsModal:K["a"],ErrorModal:H["a"],FormattedVignette:T["a"]},data:function(){return{timeLeft:50,content:"",radios:"",choices:[],confidenceLevels:Object(i["a"])(Array(11).keys()),confidence:"",chatMessages:[],currentRef:{},loading:!1,totalChatHeight:0,vignette:"",secsTillAllowedExit:window.seconds_till_allow_to_leave,msg_till_allowed_exit:window.msg_till_allowed_exit,seconds_forced_exit:window.seconds_forced_exit,msg_forced_exit:window.msg_forced_exit}},computed:Object(r["a"])({},Object(O["e"])(["djangoErrors","chatExitAllowed","chatExitForced"])),watch:{confidence:function(t,e){console.debug("old value ".concat(e)),console.debug("new value ".concat(t))},chatExitForced:function(){this.formSubmit()}},mounted:function(){var t=this,e=window.path_to_vignette;console.debug("PATH",e),this.$http.get(e).then((function(e){t.vignette=e.data})).catch((function(t){return console.debug(t)}))},methods:Object(r["a"])(Object(r["a"])(Object(r["a"])({},Object(O["d"])(["toggleInstructionsDialog","setEndChatInitiator"])),Object(O["b"])(["sendDecision"])),{},{answerChanged:function(t){console.debug("ANSWER CHANGED!!!",t),this.sendDecision({decision_type:"answer",value:t})},confidenceChanged:function(t){console.debug("CONFIENDCE CHANGED!!!",t),this.sendDecision({decision_type:"confidence",value:t})},chatEnded:function(){this.nextAvailable=!0},sendMessage:function(){""!==this.content&&(console.debug("new message:",this.content),this.content="")},formSubmit:function(){this.setEndChatInitiator(),document.getElementById("form").submit()}})},U=J,W=(n("034f"),n("7496")),z=n("62ad"),Q=n("a523"),X=n("553a"),Z=n("f6c4"),tt=n("f774"),et=n("0fd9"),nt=n("afd9"),ot=Object(m["a"])(U,a,s,!1,null,null,null),at=ot.exports;S()(ot,{VApp:W["a"],VBtn:k["a"],VCol:z["a"],VContainer:Q["a"],VFooter:X["a"],VIcon:M["a"],VMain:Z["a"],VNavigationDrawer:tt["a"],VRow:et["a"],VSystemBar:nt["a"]});n("d1e7"),n("5363");var st=n("ce5b"),rt=n.n(st),it=(n("bf40"),n("bc3a")),ct=n.n(it),dt=n("c0d6"),lt=n("c986"),ut=n.n(lt);o["default"].prototype.$http=ct.a,o["default"].use(rt.a),o["default"].config.productionTip=!1,o["default"].use(ut.a,"vac"),new o["default"]({vuetify:new rt.a({defaultAssets:{font:!0,icons:"mdi"},icons:{iconfont:"mdi"}}),render:function(t){return t(at)},store:dt["a"]}).$mount("#app")},"595e":function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",{staticClass:"m-3 content-card d-flex flex-column",attrs:{outlined:!t.enabled,flat:t.enabled}},[n("v-card-text",{staticClass:"content-text d-flex flex-column"},[n("v-card",{staticClass:"mb-3",attrs:{shaped:"",elevation:"24"}},[n("v-card-text",{staticClass:"m-3"},[n("div",{staticClass:"vignette-body light",domProps:{innerHTML:t._s(t.vignette&&t.vignette.body)}})])],1),n("div",{staticClass:"question-wrapper mt-3"},[n("h4",[t._v(t._s(t.vignette.q))]),n("input",{attrs:{type:"hidden",name:"answer"},domProps:{value:t.convertedAnswer}}),n("v-radio-group",{attrs:{mandatory:!1},model:{value:t.answer,callback:function(e){t.answer=e},expression:"answer"}},t._l(t.vignette.choices,(function(e,o){return n("v-radio",{key:o,attrs:{disabled:!t.enabled,label:e.text,value:e.value}})})),1),n("v-card",{attrs:{flat:""}},[n("v-card-text",[n("v-row",{attrs:{align:"center",justify:"center"}},[n("v-col",{attrs:{cols:"12"}},[n("h5",{staticClass:"text-center"},[t._v(" How confident you are in your answer at the scale from "+t._s(t.minConf)+" to "+t._s(t.maxConf)+" ")]),n("input",{attrs:{type:"hidden",name:"confidence"},domProps:{value:t.confidence}})]),n("v-btn-toggle",{model:{value:t.confidence,callback:function(e){t.confidence=e},expression:"confidence"}},t._l(t.confidenceLevels,(function(e,o){return n("v-btn",{key:o,attrs:{disabled:!t.enabled,value:e}},[t._v(" "+t._s(e)+" ")])})),1)],1)],1)],1)],1)],1)],1)},a=[],s=n("2909"),r=n("2ef0"),i=n.n(r),c={props:{vignette:{type:Object,default:function(){}},enabled:{type:Boolean,default:!1}},data:function(){return{confidenceLevels:i.a.range(11),confidence:null,answer:null}},computed:{minConf:function(){return Math.min.apply(Math,Object(s["a"])(this.confidenceLevels))},maxConf:function(){return Math.max.apply(Math,Object(s["a"])(this.confidenceLevels))},convertedAnswer:function(){var t={true:"True",false:"False"};return t[this.answer]}},watch:{confidence:function(t,e){this.$emit("confidence-changed",t)},answer:function(t,e){this.$emit("answer-changed",t)}},mounted:function(){},methods:{}},d=c,l=(n("c05d"),n("2877")),u=n("6544"),f=n.n(u),g=n("8336"),v=n("a609"),h=n("b0af"),m=n("99d9"),p=n("62ad"),b=n("67b6"),_=n("43a6"),w=n("0fd9"),E=Object(l["a"])(d,o,a,!1,null,"7d58b430",null);e["a"]=E.exports;f()(E,{VBtn:g["a"],VBtnToggle:v["a"],VCard:h["a"],VCardText:m["b"],VCol:p["a"],VRadio:b["a"],VRadioGroup:_["a"],VRow:w["a"]})},"69be":function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"text-center"},[n("v-dialog",{attrs:{width:"500"},scopedSlots:t._u([{key:"activator",fn:function(t){t.on,t.attrs;return[n("div")]}}]),model:{value:t.errorDialog,callback:function(e){t.errorDialog=e},expression:"errorDialog"}},[n("v-card",[n("v-card-title",{staticClass:"error"},[t._v(" Error! ")]),n("v-card-text",{staticClass:"my-3"},[t._v(" "+t._s(t.errorText)+" ")]),n("v-divider"),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){return t.toggleErrorDialog()}}},[t._v(" Ok ")])],1)],1)],1)],1)},a=[],s=n("5530"),r=n("2f62"),i={props:["errorText"],data:function(){return{dialog:!0}},computed:Object(s["a"])(Object(s["a"])({},Object(r["e"])({instoreErrDlg:"errorDialog"})),{},{errorDialog:{get:function(){return this.instoreErrDlg},set:function(){this.toggleErrorDialog()}}}),methods:Object(s["a"])({},Object(r["d"])(["toggleErrorDialog"]))},c=i,d=n("2877"),l=n("6544"),u=n.n(l),f=n("8336"),g=n("b0af"),v=n("99d9"),h=n("169a"),m=n("ce7e"),p=n("2fa4"),b=Object(d["a"])(c,o,a,!1,null,null,null);e["a"]=b.exports;u()(b,{VBtn:f["a"],VCard:g["a"],VCardActions:v["a"],VCardText:v["b"],VCardTitle:v["c"],VDialog:h["a"],VDivider:m["a"],VSpacer:p["a"]})},"85d2":function(t,e,n){},"85ec":function(t,e,n){},c05d:function(t,e,n){"use strict";var o=n("f755"),a=n.n(o);a.a},c075:function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"text-center"},[n("v-dialog",{attrs:{width:"700"},scopedSlots:t._u([{key:"activator",fn:function(t){t.on,t.attrs;return[n("div")]}}]),model:{value:t.instructionsShow,callback:function(e){t.instructionsShow=e},expression:"instructionsShow"}},[n("v-card",[n("v-card-title",{staticClass:"success"},[t._v(" Instructions ")]),n("v-card-text",{staticClass:"my-3",domProps:{innerHTML:t._s(t.instructions)}}),n("v-divider"),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){return t.toggleInstructionsDialog()}}},[t._v(" Close ")])],1)],1)],1)],1)},a=[],s=n("5530"),r=n("2f62"),i={data:function(){return{instructions:window.instructions}},computed:Object(s["a"])(Object(s["a"])({},Object(r["e"])({instShowFromStore:"instructionsShow"})),{},{instructionsShow:{get:function(){return this.instShowFromStore},set:function(t){this.toggleInstructionsDialog()}}}),methods:Object(s["a"])({},Object(r["d"])(["toggleInstructionsDialog"]))},c=i,d=n("2877"),l=n("6544"),u=n.n(l),f=n("8336"),g=n("b0af"),v=n("99d9"),h=n("169a"),m=n("ce7e"),p=n("2fa4"),b=Object(d["a"])(c,o,a,!1,null,null,null);e["a"]=b.exports;u()(b,{VBtn:f["a"],VCard:g["a"],VCardActions:v["a"],VCardText:v["b"],VCardTitle:v["c"],VDialog:h["a"],VDivider:m["a"],VSpacer:p["a"]})},c0d6:function(t,e,n){"use strict";n("4160"),n("159b");var o=n("a026"),a=n("2f62"),s=n("2ef0"),r=n.n(s),i=n("b408"),c=n.n(i);o["default"].use(a["a"]);var d=new a["a"].Store({state:{id_in_group:window.id_in_group,messages:[],socket:{isConnected:!1,message:"",reconnectError:!1},chatEndModal:!1,saving:!1,djangoErrors:window.djangoErrors,errorDialog:!0!==r.a.isEmpty(window.djangoErrors),chatExitAllowed:!1,chatExitForced:!1,instructionsShow:!1,initiatorOfEnd:!1},getters:{status:function(t){return t.socket.isConnected},savingStatus:function(t){return t.saving},chatEndedByPartner:function(t){return!t.chatExitForced&&t.chatEndModal}},mutations:{setEndChatInitiator:function(t){t.initiatorOfEnd=!0},setEndChatModel:function(t,e){t.chatEndModal=e},toggleChatEndModal:function(t){return t.chatEndModal=!t.chatEndModal},allowExitPermission:function(t){return t.chatExitAllowed=!0},forceExit:function(t){return t.chatExitForced=!0},toggleErrorDialog:function(t){return t.errorDialog=!t.errorDialog},toggleInstructionsDialog:function(t){return t.instructionsShow=!t.instructionsShow},SAVING_INITIATED:function(t){t.saving=!0},SAVING_DONE:function(t){t.saving=!1},addMessage:function(t,e){var n=e.owner,o=t.messages[t.messages.length-1];if(o){var a=o.subgroup,s=o.owner;n===s?(e.subgroup=a,o.last=!1,e.last=!0):(e.subgroup=a+1,o.last=!0,e.first=!0,e.last=!0)}else e.subgroup=0,e.first=!0,e.last=!0;t.messages.push(e)},SOCKET_ONOPEN:function(t,e){o["default"].prototype.$socket=e.currentTarget,t.socket.isConnected=!0},SOCKET_ONCLOSE:function(t,e){t.socket.isConnected=!1},SOCKET_ONERROR:function(t,e){console.error(t,e)},SOCKET_ONMESSAGE:function(t,e){},SOCKET_RECONNECT:function(t,e){console.info(t,e)},SOCKET_RECONNECT_ERROR:function(t){t.socket.reconnectError=!0}},actions:{sendMessage:function(t,e){t.commit("addMessage",e),o["default"].prototype.$socket.sendObj(e)},incomingMessage:function(t,e){console.debug("INCOMING messagei incoming",e),t.commit("addMessage",e)},endOfChat:function(t,e){t.state.initiatorOfEnd||t.commit("setEndChatModel",{value:!0})},confirm:function(t,e){console.debug("messagei confirmed",e)},requestOldMessages:function(t){var e={request_old_messages:!0};o["default"].prototype.$socket.sendObj(e)},sendDecision:function(t,e){var n={decision:e};o["default"].prototype.$socket.sendObj(n)},PrevMessages:function(t,e){console.debug("previous messages received");var n=e.msgs,o=e.chatStatus;!1===o&&t.commit("forceExit"),n&&n.forEach((function(e){console.debug(e),t.commit("addMessage",e)}))},savingRequested:function(t){var e=t.commit;console.debug("saving request initiated"),e("SAVING_INITIATED")},savingStopRequested:function(t){var e=t.commit;console.debug("saving STOP request initiated"),e("SAVING_DONE")}}}),l="https:"===window.location.protocol?"wss":"ws",u=l+"://"+window.location.host+window.socket_path;o["default"].use(c.a,u,{store:d,format:"json",reconnection:!0,reconnectionAttempts:5,reconnectionDelay:3e3}),e["a"]=d},defa:function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("countdown",{style:{width:"100%"},attrs:{"end-time":t.endTime},on:{finish:function(e){return t.toDo()}},scopedSlots:t._u([{key:"process",fn:function(e){return[n("v-progress-linear",{attrs:{width:"100%",height:"25px",color:t.color,value:e.timeObj.leftTime/1e3/t.secsToEnd*100}},[t._v(" "+t._s(t.progressMessage)+": "+t._s(e.timeObj.m)+": "+t._s(e.timeObj.s)+" ")])]}},{key:"finish",fn:function(){return[n("span",[t._v(t._s(t.timerFinish))])]},proxy:!0}])})},a=[],s=(n("a9e3"),n("0adb")),r={name:"Timer",props:{secsToEnd:Number,progressMessage:String,whatToDo:String,color:String,timerFinish:String},data:function(){var t=Object(s["a"])(new Date,this.secsToEnd);return{endTime:t}},methods:{toDo:function(){this.$store.commit(this.whatToDo)}}},i=r,c=n("2877"),d=n("6544"),l=n.n(d),u=n("8e36"),f=Object(c["a"])(i,o,a,!1,null,null,null);e["a"]=f.exports;l()(f,{VProgressLinear:u["a"]})},f196:function(t,e,n){"use strict";var o=n("1e3e"),a=n.n(o);a.a},f755:function(t,e,n){}});