(function(e){function t(t){for(var s,a,i=t[0],c=t[1],u=t[2],d=0,f=[];d<i.length;d++)a=i[d],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&f.push(o[a][0]),o[a]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(e[s]=c[s]);l&&l(t);while(f.length)f.shift()();return r.push.apply(r,u||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],s=!0,i=1;i<n.length;i++){var c=n[i];0!==o[c]&&(s=!1)}s&&(r.splice(t--,1),e=a(a.s=n[0]))}return e}var s={},o={main:0},r=[];function a(t){if(s[t])return s[t].exports;var n=s[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=s,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)a.d(n,s,function(t){return e[t]}.bind(null,s));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/static/vue/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var u=0;u<i.length;u++)t(i[u]);var l=c;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";var s=n("85ec"),o=n.n(s);o.a},"0d0b":function(e,t,n){"use strict";var s=n("10e9"),o=n.n(s);o.a},"10e9":function(e,t,n){},"1e3e":function(e,t,n){},"33e1":function(e,t,n){"use strict";var s=n("85d2"),o=n.n(s);o.a},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var s=n("2b0e"),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",{attrs:{id:"inspire"}},[n("end-chat"),n("count-down"),n("v-main",[n("v-container",{staticClass:"fill-height main-container",attrs:{fluid:""}},[n("v-row",{attrs:{align:"center",justify:"center","no-gutters":""}},[n("v-col",{staticClass:"chat-col",attrs:{sm:"12"}},[n("chat")],1)],1)],1)],1)],1)},r=[],a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"chat-container"},[n("message-wrapper"),n("div",{staticClass:"input-block"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.content,expression:"content"}],attrs:{type:"text",placeholder:"Type here..."},domProps:{value:e.content},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.sendMessage(t)},keydown:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;t.preventDefault()},input:function(t){t.target.composing||(e.content=t.target.value)}}}),n("v-btn",{staticClass:"send-btn",class:{"disable-events":e.emptyInput},attrs:{dark:"",fab:"",top:"",right:"",color:"blue",disabled:!e.status},on:{click:e.sendMessage}},[n("v-icon",[e._v("mdi-send")])],1)],1)],1)},i=[],c=(n("99af"),n("498a"),n("5530")),u=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"message-block"},[n("div",{staticClass:"inner-message-block"},e._l(e.messages,(function(t,s){return n("div",{key:s,class:{message:!0,me:t.source===e.id_in_group,other:t.source!==e.id_in_group,last:t.last,first:t.first}},[e._v(" "+e._s(t.text)+" ")])})),0)])},l=[],d=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._v(" hellow ")])},f=[],p={data:function(){return{}}},m=p,g=(n("0d0b"),n("2877")),v=Object(g["a"])(m,d,f,!1,null,null,null),h=v.exports,b={components:{message:h},computed:{messages:function(){return this.$store.state.messages},id_in_group:function(){return this.$store.state.id_in_group}}},_=b,O=(n("33e1"),Object(g["a"])(_,u,l,!1,null,null,null)),y=O.exports,C=n("2f62"),w={components:{"message-wrapper":y},data:function(){return{content:""}},computed:Object(c["a"])({emptyInput:function(){return""===this.content.trim()},id_in_group:function(){return this.$store.state.id_in_group}},Object(C["c"])({status:function(e){return e.socket.isConnected}})),watch:{status:function(e,t){console.debug("Updating from ".concat(t," to ").concat(e)),e&&this.requestOldMessages()}},created:function(){},methods:Object(c["a"])(Object(c["a"])({},Object(C["b"])({send_message:"sendMessage",requestOldMessages:"requestOldMessages"})),{},{sendMessage:function(){if(""!==this.content.trim()){var e={text:this.content,source:id_in_group};this.send_message(e),this.content=""}}})},k=w,E=(n("f196"),n("6544")),x=n.n(E),j=n("8336"),M=n("132d"),S=Object(g["a"])(k,a,i,!1,null,null,null),T=S.exports;x()(S,{VBtn:j["a"],VIcon:M["a"]});var V=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"text-center"},[n("v-dialog",{attrs:{width:"500"},scopedSlots:e._u([{key:"activator",fn:function(e){e.on,e.attrs;return[n("div")]}}]),model:{value:e.chatOver,callback:function(t){e.chatOver=t},expression:"chatOver"}},[n("v-card",[n("v-card-title",{staticClass:"headline grey lighten-2"},[e._v(" Privacy Policy ")]),n("v-card-text",[e._v(" Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. ")]),n("v-divider"),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){e.dialog=!1}}},[e._v(" I accept ")])],1)],1)],1)],1)},$=[],N={data:function(){return{dialog:!0}},computed:{chatOver:function(){return this.$store.getters.isChatOver}}},P=N,q=n("b0af"),R=n("99d9"),D=n("169a"),I=n("ce7e"),K=n("2fa4"),A=Object(g["a"])(P,V,$,!1,null,null,null),B=A.exports;x()(A,{VBtn:j["a"],VCard:q["a"],VCardActions:R["a"],VCardText:R["b"],VCardTitle:R["c"],VDialog:D["a"],VDivider:I["a"],VSpacer:K["a"]});var J=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span")},L=[],G={data:function(){return{timerCount:30}},watch:{timerCount:{handler:function(e){var t=this;e>0&&setTimeout((function(){t.timerCount--}),1e3)},immediate:!0}}},U=G,F=Object(g["a"])(U,J,L,!1,null,null,null),H=F.exports,z={name:"LayoutsDemosBaselineFlipped",props:{source:String},components:{chat:T,EndChat:B,CountDown:H},data:function(){return{content:"",chatMessages:[],currentRef:{},loading:!1,totalChatHeight:0}},methods:{sendMessage:function(){""!==this.content&&(console.debug("new message:",this.content),this.content="")}}},Q=z,W=(n("034f"),n("7496")),X=n("62ad"),Y=n("a523"),Z=n("f6c4"),ee=n("0fd9"),te=Object(g["a"])(Q,o,r,!1,null,null,null),ne=te.exports;x()(te,{VApp:W["a"],VCol:X["a"],VContainer:Y["a"],VMain:Z["a"],VRow:ee["a"]});n("d1e78"),n("5363");var se=n("ce5b"),oe=n.n(se),re=(n("bf40"),n("4160"),n("159b"),n("b408")),ae=n.n(re);s["default"].use(C["a"]);var ie=new C["a"].Store({state:{id_in_group:window.id_in_group,messages:[],socket:{isConnected:!1,message:"",reconnectError:!1},chatOver:!1},getters:{status:function(e){return console.debug("jopa",e.socket.isConnected),e.socket.isConnected},isChatOver:function(e){return e.chatOver}},mutations:{addMessage:function(e,t){var n=t.owner,s=e.messages[e.messages.length-1];if(s){var o=s.subgroup,r=s.owner;n===r?(t.subgroup=o,s.last=!1,t.last=!0):(t.subgroup=o+1,s.last=!0,t.first=!0,t.last=!0)}else t.subgroup=0,t.first=!0,t.last=!0;e.messages.push(t)},SOCKET_ONOPEN:function(e,t){s["default"].prototype.$socket=t.currentTarget,e.socket.isConnected=!0},SOCKET_ONCLOSE:function(e,t){e.socket.isConnected=!1},SOCKET_ONERROR:function(e,t){console.error(e,t)},SOCKET_ONMESSAGE:function(e,t){},SOCKET_RECONNECT:function(e,t){console.info(e,t)},SOCKET_RECONNECT_ERROR:function(e){e.socket.reconnectError=!0}},actions:{sendMessage:function(e,t){e.commit("addMessage",t),s["default"].prototype.$socket.sendObj(t)},incomingMessage:function(e,t){console.debug("INCOMING messagei incoming",t),e.commit("addMessage",t)},confirm:function(e,t){console.debug("messagei confirmed",t)},requestOldMessages:function(e){var t={request_old_messages:!0};s["default"].prototype.$socket.send(JSON.stringify(t))},PrevMessages:function(e,t){console.debug("previous messages received");var n=t.msgs;n&&n.forEach((function(t){console.debug(t),e.commit("addMessage",t)}))}}}),ce="https:"===window.location.protocol?"wss":"ws",ue=ce+"://"+window.location.host+window.socket_path;s["default"].use(ae.a,ue,{store:ie,format:"json",reconnection:!0,reconnectionAttempts:5,reconnectionDelay:3e3});var le=ie;s["default"].use(oe.a),s["default"].config.productionTip=!1,new s["default"]({vuetify:new oe.a({defaultAssets:{font:!0,icons:"mdi"},icons:{iconfont:"mdi"}}),render:function(e){return e(ne)},store:le}).$mount("#app")},"85d2":function(e,t,n){},"85ec":function(e,t,n){},f196:function(e,t,n){"use strict";var s=n("1e3e"),o=n.n(s);o.a}});
//# sourceMappingURL=main.js.map