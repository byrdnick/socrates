(function(e){function t(t){for(var a,i,c=t[0],r=t[1],u=t[2],l=0,f=[];l<c.length;l++)i=c[l],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&f.push(o[i][0]),o[i]=0;for(a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a]);d&&d(t);while(f.length)f.shift()();return s.push.apply(s,u||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],a=!0,c=1;c<n.length;c++){var r=n[c];0!==o[r]&&(a=!1)}a&&(s.splice(t--,1),e=i(i.s=n[0]))}return e}var a={},o={main:0},s=[];function i(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=a,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(n,a,function(t){return e[t]}.bind(null,a));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/static/vue/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],r=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var d=r;s.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0566":function(e,t,n){"use strict";var a=n("dc6f"),o=n.n(a);o.a},"0d0b":function(e,t,n){"use strict";var a=n("10e9"),o=n.n(a);o.a},"10e9":function(e,t,n){},"1e3e":function(e,t,n){},"33e1":function(e,t,n){"use strict";var a=n("85d2"),o=n.n(a);o.a},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("a026"),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",{attrs:{id:"inspire"}},[n("end-chat"),n("v-main",[n("v-container",{staticClass:" main-container",attrs:{fluid:""}},[n("v-row",{staticClass:"limitoverflow",attrs:{align:"center",justify:"center","no-gutters":""}},[n("v-col",{staticClass:"content-col fill-height",attrs:{xl:"10",lg:"9",md:"8",sm:"6",xs:"12"}},[n("v-card",{staticClass:"m-3 content-card d-flex flex-grow-1 flex-column",attrs:{outlined:""}},[n("v-card-text",{staticClass:"d-flex flex-grow-1 flex-column"},[e.vignette?n("formatted-vignette",{attrs:{vignette:e.vignette,enabled:!0},on:{"answer-changed":e.answerChanged,"confidence-changed":e.confidenceChanged}}):e._e(),n("v-card-actions",[n("v-btn",{on:{click:e.formSubmit}},[e._v("Next")])],1)],1)],1)],1),n("v-col",{staticClass:"chat-col fill-height",attrs:{xl:"2",lg:"3",md:"4",sm:"6",xs:"12"}},[n("v-card",{staticClass:"m-3 content-card d-flex flex-grow-1 flex-column ",attrs:{outlined:""}},[n("v-card-text",{staticClass:"d-flex flex-grow-1 flex-column"},[n("chat")],1)],1)],1)],1)],1)],1)],1)},s=[],i=(n("d3b7"),n("ddb0"),n("5530")),c=n("2909"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"chat-container"},[n("message-wrapper"),n("div",{staticClass:"input-block"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.content,expression:"content"}],attrs:{type:"text",placeholder:"Type here..."},domProps:{value:e.content},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.sendMessage(t)},keydown:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;t.preventDefault()},input:function(t){t.target.composing||(e.content=t.target.value)}}}),n("v-btn",{staticClass:"send-btn",class:{"disable-events":e.emptyInput},attrs:{dark:"",fab:"",top:"",right:"",color:"blue",disabled:!e.status},on:{click:e.sendMessage}},[n("v-icon",[e._v("mdi-send")])],1)],1)],1)},u=[],d=(n("99af"),n("498a"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"message-block"},[n("div",{staticClass:"inner-message-block"},e._l(e.messages,(function(t,a){return n("div",{key:a,class:{message:!0,me:t.source===e.id_in_group,other:t.source!==e.id_in_group,last:t.last,first:t.first}},[e._v(" "+e._s(t.text)+" ")])})),0)])}),l=[],f=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._v(" hellow ")])},v=[],p={data:function(){return{}}},g=p,m=(n("0d0b"),n("2877")),h=Object(m["a"])(g,f,v,!1,null,null,null),b=h.exports,_={components:{message:b},computed:{messages:function(){return this.$store.state.messages},id_in_group:function(){return this.$store.state.id_in_group}}},C=_,w=(n("33e1"),Object(m["a"])(C,d,l,!1,null,null,null)),O=w.exports,x=n("2f62"),y={components:{"message-wrapper":O},data:function(){return{content:""}},computed:Object(i["a"])({emptyInput:function(){return""===this.content.trim()},id_in_group:function(){return this.$store.state.id_in_group}},Object(x["c"])({status:function(e){return e.socket.isConnected}})),watch:{status:function(e,t){console.debug("Updating from ".concat(t," to ").concat(e)),e&&this.requestOldMessages()}},created:function(){},methods:Object(i["a"])(Object(i["a"])({},Object(x["b"])({send_message:"sendMessage",requestOldMessages:"requestOldMessages"})),{},{sendMessage:function(){if(""!==this.content.trim()){var e={text:this.content,source:id_in_group};this.send_message(e),this.content=""}}})},E=y,k=(n("f196"),n("6544")),j=n.n(k),V=n("8336"),T=n("132d"),M=Object(m["a"])(E,r,u,!1,null,null,null),S=M.exports;j()(M,{VBtn:V["a"],VIcon:T["a"]});var N=n("595e"),A=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"text-center"},[n("v-dialog",{attrs:{width:"500"},scopedSlots:e._u([{key:"activator",fn:function(e){e.on,e.attrs;return[n("div")]}}]),model:{value:e.chatOver,callback:function(t){e.chatOver=t},expression:"chatOver"}},[n("v-card",[n("v-card-title",{staticClass:"headline grey lighten-2"},[e._v(" Privacy Policy ")]),n("v-card-text",[e._v(" Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. ")]),n("v-divider"),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){e.dialog=!1}}},[e._v(" I accept ")])],1)],1)],1)],1)},$=[],I={data:function(){return{dialog:!0}},computed:{chatOver:function(){return this.$store.getters.isChatOver}}},D=I,P=n("b0af"),q=n("99d9"),R=n("169a"),G=n("ce7e"),L=n("2fa4"),B=Object(m["a"])(D,A,$,!1,null,null,null),H=B.exports;j()(B,{VBtn:V["a"],VCard:P["a"],VCardActions:q["a"],VCardText:q["b"],VCardTitle:q["c"],VDialog:R["a"],VDivider:G["a"],VSpacer:L["a"]});var K=n("407d"),F=n.n(K),J={name:"LayoutsDemosBaselineFlipped",props:{source:String},components:{chat:S,EndChat:H,countdown:F.a,FormattedVignette:N["a"]},data:function(){return{secondsToEnd:window.secondsToEnd,content:"",radios:"",choices:[],confidenceLevels:Object(c["a"])(Array(11).keys()),confidence:"",chatMessages:[],currentRef:{},loading:!1,totalChatHeight:0,vignette:"",nextAvailable:secondsToEnd<=0}},watch:{confidence:function(e,t){console.debug("old value ".concat(t)),console.debug("new value ".concat(e))}},mounted:function(){var e=this,t=window.path_to_vignette;console.debug("PATH",t),this.$http.get(t).then((function(t){e.vignette=t.data})).catch((function(e){return console.debug(e)}))},computed:{secondsForTimer:function(){return Math.max(0,this.secondsToEnd)}},methods:Object(i["a"])(Object(i["a"])({answerChanged:function(e){console.debug("ANSWER CHANGED!!!",e),this.sendDecision({decision_type:"answer",value:e})},confidenceChanged:function(e){console.debug("CONFIENDCE CHANGED!!!",e),this.sendDecision({decision_type:"confidence",value:e})}},Object(x["b"])(["sendDecision"])),{},{chatEnded:function(){this.nextAvailable=!0},sendMessage:function(){""!==this.content&&(console.debug("new message:",this.content),this.content="")},formSubmit:function(){document.getElementById("form").submit()}})},U=J,W=(n("8590"),n("7496")),z=n("62ad"),Q=n("a523"),X=n("f6c4"),Y=n("0fd9"),Z=Object(m["a"])(U,o,s,!1,null,"18274848",null),ee=Z.exports;j()(Z,{VApp:W["a"],VBtn:V["a"],VCard:P["a"],VCardActions:q["a"],VCardText:q["b"],VCol:z["a"],VContainer:Q["a"],VMain:X["a"],VRow:Y["a"]});n("d1e78"),n("5363");var te=n("ce5b"),ne=n.n(te),ae=(n("bf40"),n("bc3a")),oe=n.n(ae),se=n("c0d6");a["default"].prototype.$http=oe.a,a["default"].use(ne.a),a["default"].config.productionTip=!1,new a["default"]({vuetify:new ne.a({defaultAssets:{font:!0,icons:"mdi"},icons:{iconfont:"mdi"}}),render:function(e){return e(ee)},store:se["a"]}).$mount("#app")},"595e":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{staticClass:"m-3 content-card d-flex flex-column",attrs:{outlined:!e.enabled,flat:e.enabled}},[n("v-card-text",{staticClass:"content-text d-flex flex-column"},[n("v-card",{staticClass:"mb-3",attrs:{shaped:"",elevation:"24"}},[n("v-card-text",{staticClass:"m-3"},[n("div",{staticClass:"vignette-body light",domProps:{innerHTML:e._s(e.vignette&&e.vignette.body)}})])],1),n("div",{staticClass:"question-wrapper mt-3"},[n("h5",[e._v(e._s(e.vignette.question))]),n("input",{attrs:{type:"hidden",name:"answer"},domProps:{value:e.convertedAnswer}}),n("v-radio-group",{attrs:{mandatory:!1},model:{value:e.answer,callback:function(t){e.answer=t},expression:"answer"}},e._l(e.vignette.choices,(function(t,a){return n("v-radio",{key:a,attrs:{disabled:!e.enabled,label:t.text,value:t.value}})})),1),n("v-card",{attrs:{flat:""}},[n("v-card-text",[n("v-row",{attrs:{align:"center",justify:"center"}},[n("v-col",{attrs:{cols:"12"}},[n("h5",{staticClass:"text-center"},[e._v(" How confident you are in your answer at the scale from "+e._s(e.minConf)+" to "+e._s(e.maxConf)+" ")]),n("input",{attrs:{type:"hidden",name:"confidence"},domProps:{value:e.confidence}})]),n("v-btn-toggle",{model:{value:e.confidence,callback:function(t){e.confidence=t},expression:"confidence"}},e._l(e.confidenceLevels,(function(t,a){return n("v-btn",{key:a,attrs:{disabled:!e.enabled,value:t}},[e._v(" "+e._s(t)+" ")])})),1)],1)],1)],1)],1)],1)],1)},o=[],s=n("2909"),i=n("2ef0"),c=n.n(i),r={props:{vignette:{type:Object,default:function(){}},enabled:{type:Boolean,default:!1}},data:function(){return{confidenceLevels:c.a.range(11),confidence:null,answer:null}},computed:{minConf:function(){return Math.min.apply(Math,Object(s["a"])(this.confidenceLevels))},maxConf:function(){return Math.max.apply(Math,Object(s["a"])(this.confidenceLevels))},convertedAnswer:function(){var e={true:"True",false:"False"};return e[this.answer]}},watch:{confidence:function(e,t){this.$emit("confidence-changed",e)},answer:function(e,t){this.$emit("answer-changed",e)}},mounted:function(){},methods:{}},u=r,d=(n("0566"),n("2877")),l=n("6544"),f=n.n(l),v=n("8336"),p=n("a609"),g=n("b0af"),m=n("99d9"),h=n("62ad"),b=n("67b6"),_=n("43a6"),C=n("0fd9"),w=Object(d["a"])(u,a,o,!1,null,"2c5163f2",null);t["a"]=w.exports;f()(w,{VBtn:v["a"],VBtnToggle:p["a"],VCard:g["a"],VCardText:m["b"],VCol:h["a"],VRadio:b["a"],VRadioGroup:_["a"],VRow:C["a"]})},8590:function(e,t,n){"use strict";var a=n("a843"),o=n.n(a);o.a},"85d2":function(e,t,n){},a843:function(e,t,n){},c0d6:function(e,t,n){"use strict";n("4160"),n("159b");var a=n("a026"),o=n("2f62"),s=n("b408"),i=n.n(s);a["default"].use(o["a"]);var c=new o["a"].Store({state:{id_in_group:window.id_in_group,messages:[],socket:{isConnected:!1,message:"",reconnectError:!1},chatOver:!1,saving:!1},getters:{status:function(e){return console.debug("jopa",e.socket.isConnected),e.socket.isConnected},isChatOver:function(e){return e.chatOver},savingStatus:function(e){return e.saving}},mutations:{SAVING_INITIATED:function(e){e.saving=!0},SAVING_DONE:function(e){e.saving=!1},addMessage:function(e,t){var n=t.owner,a=e.messages[e.messages.length-1];if(a){var o=a.subgroup,s=a.owner;n===s?(t.subgroup=o,a.last=!1,t.last=!0):(t.subgroup=o+1,a.last=!0,t.first=!0,t.last=!0)}else t.subgroup=0,t.first=!0,t.last=!0;e.messages.push(t)},SOCKET_ONOPEN:function(e,t){a["default"].prototype.$socket=t.currentTarget,e.socket.isConnected=!0},SOCKET_ONCLOSE:function(e,t){e.socket.isConnected=!1},SOCKET_ONERROR:function(e,t){console.error(e,t)},SOCKET_ONMESSAGE:function(e,t){},SOCKET_RECONNECT:function(e,t){console.info(e,t)},SOCKET_RECONNECT_ERROR:function(e){e.socket.reconnectError=!0}},actions:{sendMessage:function(e,t){e.commit("addMessage",t),a["default"].prototype.$socket.sendObj(t)},incomingMessage:function(e,t){console.debug("INCOMING messagei incoming",t),e.commit("addMessage",t)},confirm:function(e,t){console.debug("messagei confirmed",t)},requestOldMessages:function(e){var t={request_old_messages:!0};a["default"].prototype.$socket.sendObj(t)},sendDecision:function(e,t){var n={decision:t};a["default"].prototype.$socket.sendObj(n)},PrevMessages:function(e,t){console.debug("previous messages received");var n=t.msgs;n&&n.forEach((function(t){console.debug(t),e.commit("addMessage",t)}))},savingRequested:function(e){var t=e.commit;console.debug("saving request initiated"),t("SAVING_INITIATED")},savingStopRequested:function(e){var t=e.commit;console.debug("saving STOP request initiated"),t("SAVING_DONE")}}}),r="https:"===window.location.protocol?"wss":"ws",u=r+"://"+window.location.host+window.socket_path;a["default"].use(i.a,u,{store:c,format:"json",reconnection:!0,reconnectionAttempts:5,reconnectionDelay:3e3}),t["a"]=c},dc6f:function(e,t,n){},f196:function(e,t,n){"use strict";var a=n("1e3e"),o=n.n(a);o.a}});